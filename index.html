<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Comment Scraper</title>
    <link rel="icon" href="assets/favicon.png" type="image/png">
    <link rel="stylesheet" href="https://fonts.bunny.net/css2?family=Poppins:wght@300;400;600;700&display=swap">
    <link rel="stylesheet" href="assets/style.css">
    <script src="assets/index.js" defer></script>

    <meta name="title" content="YouTube Comments Scraper" />
    <meta name="description" content="Scrape comments from YouTube videos in one go!" />
    <meta name="theme-color" content="#8f84f6" />
    <meta http-equiv="content-language" content="en" />

    <meta
      name="keywords"
      content="scraper, extractor, comments, comments scraper, youtube comments, youtube video comments, youtube video, youtube video scraper, youtube comment scraper, youtube comment extractor, youtube comment extractor tool"
    />

    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:url" content="https://scraper.seya.zip" />
    <meta property="og:title" content="YouTube Comments Scraper" />
    <meta property="og:site_name" content="scraper.seya.zip">
    <meta property="og:description" content="Scrape comments from YouTube videos in one go!" />
    <meta property="og:image" content="https://scraper.seya.zip/assets/thumbnail.png" />

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://scraper.seya.zip" />
    <meta property="twitter:title" content="YouTube Comments Scraper" />
    <meta property="twitter:description" content="Scrape comments from YouTube videos in one go!" />
    <meta property="twitter:image" content="https://scraper.seya.zip/assets/thumbnail.png" />
</head>
<body>
    <div class="container">
        <h1>YouTube Comment Scraper</h1>
        <div class="credits">
            <p>by <a href="https://github.com/sglkc" target="_blank">sglkc</a> | <a href="https://github.com/sglkc/yt-comment-scraper" target="_blank">GitHub</a> | <a href="https://github.com/sglkc/yt-comment-scraper/blob/master/LICENSE" target="_blank">MIT License</a></p>
        </div>

        <div class="card">
            <div class="card-header">Search Parameters</div>
            <form id="scraper-form">
                <div class="form-group">
                    <label for="query" class="form-label">Search Query:</label>
                    <input type="text" class="form-control" id="query" name="query" placeholder="Enter video search query" required>
                </div>

                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="maxVideos" class="form-label">Max Videos:</label>
                            <input type="number" class="form-control" id="maxVideos" name="maxVideos" min="1" max="100" value="20">
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="maxVidComments" class="form-label">Max Comments per Video:</label>
                            <input type="number" class="form-control" id="maxVidComments" name="maxVidComments" min="1" max="500" value="100">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="maxComments" class="form-label">Total Max Comments:</label>
                            <input type="number" class="form-control" id="maxComments" name="maxComments" min="1" max="1000" value="500">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="uploadDate" class="form-label">Upload Date:</label>
                            <select class="form-select" id="uploadDate" name="uploadDate">
                                <option value="hour">Last Hour</option>
                                <option value="today">Today</option>
                                <option value="week" selected>This Week</option>
                                <option value="month">This Month</option>
                                <option value="year">This Year</option>
                                <option value="all">All Time</option>
                            </select>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="sortBy" class="form-label">Sort By:</label>
                            <select class="form-select" id="sortBy" name="sortBy">
                                <option value="relevance">Relevance</option>
                                <option value="upload_date">Upload Date</option>
                                <option value="view_count" selected>View Count</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Metadata Fields to Extract:</label>
                    <div class="metadata-container">
                        <div class="metadata-section">
                            <h4>Comment Fields</h4>
                            <div class="checkbox-group">
                                <label><input type="checkbox" name="metadata-field" value="author" checked> Author</label>
                                <label><input type="checkbox" name="metadata-field" value="comment" checked> Comment</label>
                                <label><input type="checkbox" name="metadata-field" value="published_time"> Published Time</label>
                                <label><input type="checkbox" name="metadata-field" value="like_count"> Like Count</label>
                                <label><input type="checkbox" name="metadata-field" value="reply_count"> Reply Count</label>
                                <label><input type="checkbox" name="metadata-field" value="comment_id"> Comment ID</label>
                                <label><input type="checkbox" name="metadata-field" value="is_liked"> Is Liked</label>
                                <label><input type="checkbox" name="metadata-field" value="is_hearted"> Is Hearted</label>
                            </div>
                        </div>
                        <div class="metadata-section">
                            <h4>Video Fields</h4>
                            <div class="checkbox-group">
                                <label><input type="checkbox" name="metadata-field" value="id" checked> Video ID</label>
                                <label><input type="checkbox" name="metadata-field" value="title" checked> Title</label>
                                <label><input type="checkbox" name="metadata-field" value="channel" checked> Channel</label>
                                <label><input type="checkbox" name="metadata-field" value="channel_id"> Channel ID</label>
                                <label><input type="checkbox" name="metadata-field" value="description"> Description</label>
                                <label><input type="checkbox" name="metadata-field" value="view_count"> View Count</label>
                                <label><input type="checkbox" name="metadata-field" value="duration"> Duration</label>
                                <label><input type="checkbox" name="metadata-field" value="upload_date"> Upload Date</label>
                                <label><input type="checkbox" name="metadata-field" value="is_live"> Is Live</label>
                                <label><input type="checkbox" name="metadata-field" value="is_upcoming"> Is Upcoming</label>
                                <label><input type="checkbox" name="metadata-field" value="keywords"> Keywords</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="column-order" class="form-label">Column Order in CSV:</label>
                    <div id="column-order-container" class="column-order-container">
                        <!-- Column order items will be inserted here by JavaScript -->
                    </div>
                    <small class="help-text">Drag and drop items to change the column order for CSV export</small>
                </div>

                <div class="form-group">
                    <div class="button-group">
                        <button type="submit" id="stream-csv" class="btn btn-primary">
                            <p>Start Scraping</p>
                            <small style="font-weight: normal;">View comments in real-time</small>
                        </button>
                        <button type="submit" id="download-csv" class="btn btn-secondary">
                            <p>Download CSV Directly</p>
                            <small style="font-weight: normal;">For slower devices</small>
                        </button>
                    </div>
                </div>
                <small style="margin: auto; opacity: 0.5;">*Scraping time is currently limited to 10 seconds to prevent server overload.</small>
            </form>
        </div>

        <div id="error-message" class="alert alert-danger"></div>

        <div id="loading-indicator">
            <div class="spinner">
                <div class="bounce1"></div>
                <div class="bounce2"></div>
                <div class="bounce3"></div>
            </div>
            <p>Scraping comments... This may take a few moments.</p>

            <!-- Re-add the real-time stats section -->
            <div class="real-time-stats" id="real-time-stats">
                <div class="stat-item">
                    <strong>Current Video</strong>
                    <span id="current-video">-</span>
                </div>
                <div class="stat-item">
                    <strong>Videos Processed</strong>
                    <span id="videos-processed">0</span>
                </div>
                <div class="stat-item">
                    <strong>Comments Found</strong>
                    <span id="comments-found">0</span>
                </div>
                <div class="stat-item">
                    <strong>Time Elapsed</strong>
                    <span id="time-elapsed">0s</span>
                </div>
            </div>
        </div>

        <div id="results-container">
            <div class="card">
                <div class="card-header">Results</div>
                <div class="result-stats">
                    <div class="stat-item">
                        <strong>Query</strong>
                        <span id="result-query"></span>
                    </div>
                    <div class="stat-item">
                        <strong>Videos Scraped</strong>
                        <span id="result-videos"></span>
                    </div>
                    <div class="stat-item">
                        <strong>Total Comments</strong>
                        <span id="result-comments"></span>
                    </div>
                </div>

                <div class="table-container">
                    <table>
                        <thead id="comments-table-header">
                            <!-- Table headers will be generated by JavaScript based on selected columns -->
                        </thead>
                        <tbody id="comments-table">
                            <!-- Comments will be inserted here -->
                        </tbody>
                    </table>
                </div>

                <div style="margin-top: 1.5rem;">
                    <button id="export-csv" class="btn btn-success">Export to CSV</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
